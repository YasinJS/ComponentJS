(()=>{"use strict";var __webpack_modules__={683:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});class Creak{variable={};constructor(e={}){this.variables=e}getVariable(e){let t=this.variables;for(var r=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),n=0,a=r.length;n<a;++n){var i=r[n];if(!(i in t))return;t=t[i]}return t}}class CreakTemplate extends Creak{constructor(e,t={}){super(t);let r=document.createElement("div");r.innerHTML=e,this.element=r,this.parseIF(),this.parseForeach()}parseIF(){let elements=this.element.querySelectorAll("[if]");elements.forEach((element=>{let condition=element.getAttribute("if").toString(),exception=element.getAttribute("exception");if(element.removeAttribute("if"),element.removeAttribute("exception"),!eval(condition)){if(null!==exception&&eval(exception))return;element.remove()}}))}parseForeach(){this.element.querySelectorAll("[foreach]").forEach((e=>{let t=e.getAttribute("foreach").toString().split(" "),r={};r[t[2]]=this.getVariable(t[0]),e.removeAttribute("foreach");let n=e.outerHTML,a=e.parentElement;e.remove();for(let e=0;e<r[t[2]].length;e++){let i={};i[t[2]]=r[t[2]][e];let o=new CreakBrackets(n,i);a.innerHTML+=o.getHTML()}}))}getElement(){return this.element}}class CreakBrackets extends Creak{html="";foundVariables=[];bracketRegex=/{{(.*?)}}/g;arrayRegex=/\[(.*?)]/g;constructor(e,t={}){super(t),this.html=e,this.html.match(this.bracketRegex)?.map((e=>{this.foundVariables.push(e)})),this.foundVariables.forEach((e=>{let t=e.replace("{{","").replace("}}","").replace(/\s/g,"");void 0!==this.getVariable(t)&&(this.html=this.html.replaceAll(e,this.getVariable(t)))}))}getHTML(){return this.html}}const __WEBPACK_DEFAULT_EXPORT__=(e,t,r)=>{r.innerHTML=new CreakTemplate(new CreakBrackets(e,t).getHTML(),t).getElement().innerHTML}},154:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81),a=r.n(n),i=r(645),o=r.n(i)()(a());o.push([e.id,"*{\r\n    margin: 0px;\r\n    font-family: 'Poppins', sans-serif;\r\n}\r\n\r\n.nav{\r\n    padding: 2px;\r\n    display: flex;\r\n    background: rgb(30, 30, 30);\r\n}\r\n\r\n.nav a{\r\n    padding: 20px;\r\n    color: white;\r\n    text-decoration: none;\r\n}\r\n\r\n#test{\r\n    padding: 50px;\r\n}",""]);const s=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&o[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},o=[],s=0;s<e.length;s++){var c=e[s],l=n.base?c[0]+n.base:c[0],u=i[l]||0,p="".concat(l," ").concat(u);i[l]=u+1;var _=r(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==_)t[_].references++,t[_].updater(h);else{var d=a(h,n);n.byIndex=s,t.splice(s,0,{identifier:p,updater:d,references:1})}o.push(p)}return o}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var i=n(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=r(i[o]);t[s].references--}for(var c=n(e,a),l=0;l<i.length;l++){var u=r(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},569:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{const e={path:"/",title:"Home",template:`\n        <nav class="nav">\n            <a href="/" data-link>Home</a>\n            <a href="/about/${Math.floor(10*Math.random())}" data-link>About</a>\n        </nav>\n\n        <cjs-counter></cjs-counter>\n    `,onload:({})=>{console.log("Home page ðŸ§±")}},t={path:"/about/:id",title:"about",onload:({id:e})=>{console.log("About page ðŸ§±"),console.log(`id: ${e} ðŸ”¥`)},template:`\n        <nav class="nav">\n            <a href="/" data-link>Home</a>\n            <a href="/about/${Math.floor(10*Math.random())}" data-link>About</a>\n        </nav>\n\n        <cjs-todo></cjs-todo>\n    `};var r=__webpack_require__(683);class n extends HTMLElement{state={};constructor(){super(),this.update(),this.setAttribute("state",JSON.stringify(this.state))}update(){let e=()=>{JSON.stringify(this.state)!==this.getAttribute("state")?window.requestAnimationFrame((()=>{this.renderComponent(),this.setAttribute("state",JSON.stringify(this.state)),e()})):window.requestAnimationFrame((()=>e()))};window.requestAnimationFrame((()=>e()))}connectedCallback(){this.prepare(),this.renderComponent()}getAttribute(e){return super.getAttribute(e)??""}addEventListener(e,{onclick:t}){let r=this.getElement(e);"function"==typeof t&&(r.onclick=e=>t(e))}getAttributes(){var e={};let t=this.attributes;for(let r=0;r<t.length;r++){let n=t[r];"state"!==n.name&&(e[n.name]=n.value)}return e}getElement(e){return this.querySelector(e)}renderComponent(){let e={};for(let t in this)e[t]=this[t];e.state=this.state,(0,r.Z)(this.render(),e,this),this.handle()}prepare(){}handle(){}render(){return""}static register(e){let t=Object.values(e),r=Object.keys(e);t.forEach(((e,t)=>{customElements.define(r[t],e)}))}}const a=n;var i=__webpack_require__(379),o=__webpack_require__.n(i),s=__webpack_require__(795),c=__webpack_require__.n(s),l=__webpack_require__(569),u=__webpack_require__.n(l),p=__webpack_require__(565),_=__webpack_require__.n(p),h=__webpack_require__(216),d=__webpack_require__.n(h),m=__webpack_require__(589),f=__webpack_require__.n(m),b=__webpack_require__(154),g={};g.styleTagTransform=f(),g.setAttributes=_(),g.insert=u().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=d(),o()(b.Z,g),b.Z&&b.Z.locals&&b.Z.locals,a.register({"cjs-counter":class extends a{prepare(){this.state.count=0}handle(){this.addEventListener("#btn",{onclick:function(e){this.state.count++}.bind(this)})}render(){return'\n            <h1>Counter</h1>\n            <p>{{ state.count }}</p>\n            <button id="btn">Increment</button>\n        '}},"cjs-todo":class extends a{prepare(){this.state.items=JSON.parse(localStorage.getItem("items"))??[]}handle(){this.addEventListener("#btn",{onclick:function(e){this.state.items.push(this.getElement("#input").value),localStorage.setItem("items",JSON.stringify(this.state.items))}.bind(this)})}render(){return'\n            <h1>TODO:</h1>\n            <ul>\n                <li foreach="state.items as item"> {{ item }} </li>\n            </ul>\n            <input id="input">\n            <button id="btn">Increment</button>\n        '}}}),new class{map=null;render=null;lastRout=null;constructor(e,t){this.map=new class{routes={};constructor(e){this.routes=e}getData(e){return this.routes.map((t=>({route:t,result:e.match(new RegExp("^"+e.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")+"$"))})))}get(e,t){return new class{constructor(e,t,r){this.pathname=e,this.map=t,this.mount=r}getParams(){const e=this.getMatch(this.pathname),t=e.result.slice(1),r=Array.from(e.route.path.matchAll(/:(\w+)/g)).map((e=>e[1]));return Object.fromEntries(r.map(((e,r)=>[e,t[r]])))}getRoute(){let e=this.getMatch();return null===e?null:e.route??null}getMatch(){return this.map.routes.map((e=>({route:e,result:location.pathname.match(new RegExp("^"+e.path.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")+"$"))}))).find((e=>null!==e.result))||null}render(){let e=this.getRoute(),{template:t,title:r}=e;this.mount.innerHTML=t??"",document.title=r??""}onload(){let e=this.getRoute();"function"==typeof e.onload&&e.onload(this.getParams())}unload(){let e=this.getRoute();"function"==typeof e.unload&&e.unload()}}(e,this,t)}exists(e){return void 0===this.getData(e)[0].result}}(t),this.mount=document.querySelector(e)}start(){window.addEventListener("click",(e=>{e.preventDefault(),e.target.matches("[data-link]")||!e.target.matches("[href]")?e.target.matches("[data-link]")&&e.target.matches("[href]")&&(history.pushState(null,null,e.target.href),this.redirect(location.pathname)):window.open(e.target.href)})),window.onpopstate=e=>{this.redirect(location.pathname)},window.onload=this.redirect(location.pathname)}redirect(e){let t=this.map.get(e,this.mount);this.map.exists(e)||null===t.getRoute()?history.back():(null!==this.lastRout&&this.lastRout.unload(),t.onload(),t.render(t),this.lastRout=t)}static getParam(e){if(e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(location.search))return decodeURIComponent(e[1]).toString()}}("#App",[e,t]).start()})()})();